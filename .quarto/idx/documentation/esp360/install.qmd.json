{"title":"ESP-360-REMOTE","markdown":{"yaml":{"title":"ESP-360-REMOTE","subtitle":"Installation guide","format":{"html":{"toc":true,"toc-location":"right","smooth-scroll":true,"title-block-banner":false}}},"headingText":"Introduction","containsRefs":false,"markdown":"\n\n\nTo start, follow the [quick start guide](quickstart.qmd) just for the installation part.\n\nIf you know ESPHome, you can skip most of this document and just use the template in the [ESPHome Configuration](https://github.com/ale1800/ESP-360-REMOTE/tree/main/ESPHome%20Configuration) folder.\n\nIf you don't know much about ESPHome this document will guide you through the installation process. If you need more information you can head to [Discord](https://discord.gg/PsrK3KDkRy) and if you see something that is not clear enough, do not hesitate to make a pull request and improve the documentation for everybody.\n\n# First step\nFor this step you will require a USB-C cable that has power + data (a normal cable should but some cheap aliexpress cable only have the power wire and no data wire) and a computer with chrome or edge browser (no firefox)\nopen the following [link](https://web.esphome.io/) in your browser once the device is connected to your computer using the USB-C cable\nyou need to click on \"connect\".\n\n\n![](/assets/esp360/connect.png){width=4in fig-align=\"center\"}\n\n\nSelect the USB-Serial device, if no USB serial device appear, ensure your USB cable is good and that you have the CH240X driver (the tool give you the link to install the driver if needed)\n\n![](/assets/esp360/usb_serial.png){width=4in fig-align=\"center\"}\n\n\nOnce you are connected you should be able to click there : \n\n![](/assets/esp360/prepare_first_use.png){width=4in fig-align=\"center\"}\n\n\nThe process takes a few minutes and ask for your wifi credentials toward the end so that the device can connect to your network.\nonce it's done you should be able to access the webpage hosted by the ESP 360 Remote\n\n![](/assets/esp360/esphomeweb_empty.png){width=6in fig-align=\"center\"}\n\nAs you can see it's empty. this is only the generic ESPHome configuration. follow to the next section to compile the firmware with the IR, RF and sensors feature\n\nNow, if you want to change the yaml file and update your ESP 360 Remote directly from the command line, you can jump to the **Command Line** section, otherwise if you would like to manage your board from an intuitive web page, go to the **ESPHome Environment** one. \n\n# Command Line\nFirst follow this guide that will help you install the compiler for the ESPhome firmware.\n[ESPHome tool desktop installation](https://esphome.io/guides/installing_esphome.html).\nNow you can use the templates in the **Template** section and follow this guide (under the **First uploading section**) to compile the template provided here for your device :\n[ESPHome tool desktop usage](https://esphome.io/guides/getting_started_command_line).\nYou can now jump to the **Template** section\n\n# ESPHome Environment\nThis option require docker but allow you to manage in an easier way your fleet of esphome device\n\n![](/assets/esp360/esphome_environment.png){width=4in fig-align=\"center\"}\n\nI assume you know the docker basics, here is a docker-compose.yml that you can use to run the ESPhome \"fleet manager\"\n``` yml\nversion: '3'\nservices:\n  esphome:\n    container_name: esphome\n    image: ghcr.io/esphome/esphome\n    volumes:\n      - /path/to/esphome/config:/config\n      - /etc/localtime:/etc/localtime:ro\n    restart: always\n    privileged: true\n    network_mode: host\n    environment:\n      - USERNAME=test\n      - PASSWORD=ChangeMe\n```\n\nEdit the username + password and the path to your configuration (just an empty folder is good, we will create the file from the web interface)\n\nOnce it's running you can can access it on http://127.0.0.1:6052/\nFrom there you can create a new device\n\n![](/assets/esp360/new_device.png){width=2in fig-align=\"center\"}\n\nOnce done, click on skip for the install and click \"edit\" instead from the main menu : \n\nReplace the text with the one found in the [ESPHome Configuration](https://github.com/ale1800/ESP-360-REMOTE/tree/main/ESPHome%20Configuration) folder.\nas explained in the template section of this file\nonce happy with your config you can compile by clicking save then come back to the main menu and click the \"...\" then install\n\n![](/assets/esp360/dotsmenu.png){width=3in fig-align=\"center\"}\n\nChoose manual download\n\n![](/assets/esp360/manual_download.png){width=3in fig-align=\"center\"}\n\nThe file will be compiled to a .bin that you will be able to download. You need to download the legacy format :\n\n![](/assets/esp360/legacy_format.png){width=3in fig-align=\"center\"}\n\n![](/assets/esp360/bin.png){width=3in fig-align=\"center\"}\n\n\nFrom there, give it a name and choose ESP32\n\n![](/assets/esp360/esphome_ota.png){width=5in fig-align=\"center\"}\n\nNow return to the webpage of the ESP 360 Remote and under OTA Update browse for the file you previously downloaded and click update\nonce the device as rebooted, you should see the value from the sensors and your switch\n\n![](/assets/esp360/ota_update.png){width=3in fig-align=\"center\"}\n\nyou are done :)\n\n# Template\n\nHere is what the template looks like. you can edit the name field and the wifi ssid + password with your\n\n```yml\nesphome:\n  name: esp360-default-1\n  friendly_name: ESP360-default-1\n\nesp32:\n  board: esp32dev\n  framework:\n    type: arduino\n\n# Enable logging\nlogger:\n\napi:\n  encryption:\n    ...\n```\n\nYou can add your own action.\nThis is an example that send an IR code that turn ON and OFF a fan.\nYou will need to adapt the transmit_nec function to your protocol and replace the address and command field accordingly\n```yml\n  - platform: template\n    name: \"fan\"\n    turn_on_action:\n      remote_transmitter.transmit_nec:\n        transmitter_id: IR_TX\n        address: 0xFE01\n        command: 0xE21D\n    turn_off_action:\n      remote_transmitter.transmit_nec:\n        transmitter_id: IR_TX\n        address: 0xFE01\n        command: 0xE21D\n```\nIf you don't know these, you can start by compiling the base template and go to the webpage of the ESP 360 remote, you should see a terminal that display the data from the sensors and the IR + RF transceiver\njust point the remote you want to clone toward the ESP 360  remote and look at the code display in the terminal.\nIt should looks like something like this :\n\n![](/assets/esp360/terminal.png){width=5in fig-align=\"center\"}\n\nThe line that we care about is the following\n```yml\nReceived NEC: address=0xFE01, command=0xE21D\n```\nThis line give you the protocol (NEC) the address and the command. if you have another protocol lookup in the ESPhome documentation the specific syntax.\n\nEdit the example template with your value and add as many as you need for every function of your remote you want to clone and use from the ESP 360 Remote.\n\n(dont hesitate to read the ESPhome documentation as it will give you more detailed info and more options to configure your actions)\n","srcMarkdownNoYaml":"\n\n# Introduction\n\nTo start, follow the [quick start guide](quickstart.qmd) just for the installation part.\n\nIf you know ESPHome, you can skip most of this document and just use the template in the [ESPHome Configuration](https://github.com/ale1800/ESP-360-REMOTE/tree/main/ESPHome%20Configuration) folder.\n\nIf you don't know much about ESPHome this document will guide you through the installation process. If you need more information you can head to [Discord](https://discord.gg/PsrK3KDkRy) and if you see something that is not clear enough, do not hesitate to make a pull request and improve the documentation for everybody.\n\n# First step\nFor this step you will require a USB-C cable that has power + data (a normal cable should but some cheap aliexpress cable only have the power wire and no data wire) and a computer with chrome or edge browser (no firefox)\nopen the following [link](https://web.esphome.io/) in your browser once the device is connected to your computer using the USB-C cable\nyou need to click on \"connect\".\n\n\n![](/assets/esp360/connect.png){width=4in fig-align=\"center\"}\n\n\nSelect the USB-Serial device, if no USB serial device appear, ensure your USB cable is good and that you have the CH240X driver (the tool give you the link to install the driver if needed)\n\n![](/assets/esp360/usb_serial.png){width=4in fig-align=\"center\"}\n\n\nOnce you are connected you should be able to click there : \n\n![](/assets/esp360/prepare_first_use.png){width=4in fig-align=\"center\"}\n\n\nThe process takes a few minutes and ask for your wifi credentials toward the end so that the device can connect to your network.\nonce it's done you should be able to access the webpage hosted by the ESP 360 Remote\n\n![](/assets/esp360/esphomeweb_empty.png){width=6in fig-align=\"center\"}\n\nAs you can see it's empty. this is only the generic ESPHome configuration. follow to the next section to compile the firmware with the IR, RF and sensors feature\n\nNow, if you want to change the yaml file and update your ESP 360 Remote directly from the command line, you can jump to the **Command Line** section, otherwise if you would like to manage your board from an intuitive web page, go to the **ESPHome Environment** one. \n\n# Command Line\nFirst follow this guide that will help you install the compiler for the ESPhome firmware.\n[ESPHome tool desktop installation](https://esphome.io/guides/installing_esphome.html).\nNow you can use the templates in the **Template** section and follow this guide (under the **First uploading section**) to compile the template provided here for your device :\n[ESPHome tool desktop usage](https://esphome.io/guides/getting_started_command_line).\nYou can now jump to the **Template** section\n\n# ESPHome Environment\nThis option require docker but allow you to manage in an easier way your fleet of esphome device\n\n![](/assets/esp360/esphome_environment.png){width=4in fig-align=\"center\"}\n\nI assume you know the docker basics, here is a docker-compose.yml that you can use to run the ESPhome \"fleet manager\"\n``` yml\nversion: '3'\nservices:\n  esphome:\n    container_name: esphome\n    image: ghcr.io/esphome/esphome\n    volumes:\n      - /path/to/esphome/config:/config\n      - /etc/localtime:/etc/localtime:ro\n    restart: always\n    privileged: true\n    network_mode: host\n    environment:\n      - USERNAME=test\n      - PASSWORD=ChangeMe\n```\n\nEdit the username + password and the path to your configuration (just an empty folder is good, we will create the file from the web interface)\n\nOnce it's running you can can access it on http://127.0.0.1:6052/\nFrom there you can create a new device\n\n![](/assets/esp360/new_device.png){width=2in fig-align=\"center\"}\n\nOnce done, click on skip for the install and click \"edit\" instead from the main menu : \n\nReplace the text with the one found in the [ESPHome Configuration](https://github.com/ale1800/ESP-360-REMOTE/tree/main/ESPHome%20Configuration) folder.\nas explained in the template section of this file\nonce happy with your config you can compile by clicking save then come back to the main menu and click the \"...\" then install\n\n![](/assets/esp360/dotsmenu.png){width=3in fig-align=\"center\"}\n\nChoose manual download\n\n![](/assets/esp360/manual_download.png){width=3in fig-align=\"center\"}\n\nThe file will be compiled to a .bin that you will be able to download. You need to download the legacy format :\n\n![](/assets/esp360/legacy_format.png){width=3in fig-align=\"center\"}\n\n![](/assets/esp360/bin.png){width=3in fig-align=\"center\"}\n\n\nFrom there, give it a name and choose ESP32\n\n![](/assets/esp360/esphome_ota.png){width=5in fig-align=\"center\"}\n\nNow return to the webpage of the ESP 360 Remote and under OTA Update browse for the file you previously downloaded and click update\nonce the device as rebooted, you should see the value from the sensors and your switch\n\n![](/assets/esp360/ota_update.png){width=3in fig-align=\"center\"}\n\nyou are done :)\n\n# Template\n\nHere is what the template looks like. you can edit the name field and the wifi ssid + password with your\n\n```yml\nesphome:\n  name: esp360-default-1\n  friendly_name: ESP360-default-1\n\nesp32:\n  board: esp32dev\n  framework:\n    type: arduino\n\n# Enable logging\nlogger:\n\napi:\n  encryption:\n    ...\n```\n\nYou can add your own action.\nThis is an example that send an IR code that turn ON and OFF a fan.\nYou will need to adapt the transmit_nec function to your protocol and replace the address and command field accordingly\n```yml\n  - platform: template\n    name: \"fan\"\n    turn_on_action:\n      remote_transmitter.transmit_nec:\n        transmitter_id: IR_TX\n        address: 0xFE01\n        command: 0xE21D\n    turn_off_action:\n      remote_transmitter.transmit_nec:\n        transmitter_id: IR_TX\n        address: 0xFE01\n        command: 0xE21D\n```\nIf you don't know these, you can start by compiling the base template and go to the webpage of the ESP 360 remote, you should see a terminal that display the data from the sensors and the IR + RF transceiver\njust point the remote you want to clone toward the ESP 360  remote and look at the code display in the terminal.\nIt should looks like something like this :\n\n![](/assets/esp360/terminal.png){width=5in fig-align=\"center\"}\n\nThe line that we care about is the following\n```yml\nReceived NEC: address=0xFE01, command=0xE21D\n```\nThis line give you the protocol (NEC) the address and the command. if you have another protocol lookup in the ESPhome documentation the specific syntax.\n\nEdit the example template with your value and add as many as you need for every function of your remote you want to clone and use from the ESP 360 Remote.\n\n(dont hesitate to read the ESPhome documentation as it will give you more detailed info and more options to configure your actions)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"install.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","theme":{"light":"cosmo","dark":"cosmo"},"title":"ESP-360-REMOTE","subtitle":"Installation guide","toc-location":"right","smooth-scroll":true,"title-block-banner":false},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}